# Тестирование расширения Bybit Order Tracker v1.1

## Быстрый тест после обновления

### 1. Подготовка
```bash
# Убедитесь, что сервер запущен
python app.py
```

### 2. Установка/обновление расширения
1. Откройте Chrome → `chrome://extensions/`
2. Включите "Режим разработчика"
3. Нажмите "Загрузить распакованное расширение"
4. Выберите папку `bybit-extension`

### 3. Настройка расширения
1. Нажмите на иконку расширения в панели браузера
2. Проверьте настройки:
   - URL сервера: `http://localhost:5000`
   - Выберите сотрудника
   - Укажите название аккаунта
   - Включите отслеживание

### 4. Тестирование на Bybit
1. Откройте [bybit.com](https://bybit.com)
2. Войдите в аккаунт
3. Перейдите в раздел с историей ордеров
4. Откройте консоль браузера (F12)
5. Нажмите "Загрузить существующие ордера" в расширении

### 5. Проверка результатов

#### В консоли браузера должно появиться:
```
Начинаем загрузку существующих ордеров...
Найдено X элементов для селектора: .ant-table-row
Найдено Y элементов для селектора: [data-row-key]
...
Найдено Z ордеров для загрузки
```

#### Если ордера не найдены:
```
Отладка: ищем любые элементы с текстом, содержащим ключевые слова...
Найден элемент с потенциальными данными ордера: DIV some-class BTC/USDT Buy 0.001 Filled...
Найдено N элементов с потенциальными данными ордеров
```

### 6. Анализ результатов

#### ✅ Успешный результат:
- Найдены и загружены ордера
- Показано уведомление "Загружено X ордеров!"
- Ордера появились в системе учета

#### ⚠️ Частичный успех:
- Найдены потенциальные элементы, но не извлечены данные
- Нужно проанализировать структуру страницы

#### ❌ Неудача:
- Не найдено ни одного элемента
- Возможно, изменилась структура страницы Bybit

## Отладка проблем

### Проблема: "Ордера не найдены"

1. **Проверьте URL страницы**
   - Убедитесь, что вы на странице с ордерами
   - Попробуйте разные разделы (History, Orders, Trades)

2. **Проверьте консоль браузера**
   - Ищите сообщения от расширения
   - Обратите внимание на найденные элементы

3. **Проверьте структуру страницы**
   - Откройте инспектор элементов (F12)
   - Найдите элементы с ордерами
   - Посмотрите их классы и атрибуты

### Проблема: "Найдены элементы, но данные не извлекаются"

1. **Проверьте содержимое элементов**
   - В консоли будут показаны найденные элементы
   - Убедитесь, что они содержат данные ордеров

2. **Проверьте формат данных**
   - Возможно, Bybit изменил формат отображения
   - Нужно обновить регулярные выражения

### Проблема: "Ошибка соединения с сервером"

1. **Проверьте сервер**
   ```bash
   # Проверьте, что сервер запущен
   curl http://localhost:5000/api/orders
   ```

2. **Проверьте настройки расширения**
   - URL должен быть точным
   - Порт должен совпадать

## Дополнительные селекторы

Если стандартные селекторы не работают, можно добавить специфичные для вашей версии Bybit:

```javascript
// Добавьте в массив orderSelectors в content.js
'.your-specific-class',
'[data-your-attribute]',
'#your-id .row'
```

## Создание отчета об ошибке

Если расширение не работает:

1. **Соберите информацию**:
   - Версия браузера
   - URL страницы Bybit
   - Сообщения из консоли
   - Скриншот страницы с ордерами

2. **Экспортируйте HTML**:
   ```javascript
   // В консоли браузера
   console.log(document.documentElement.outerHTML);
   ```

3. **Проверьте элементы**:
   ```javascript
   // Найдите элементы с ордерами вручную
   document.querySelectorAll('*').forEach(el => {
     if (el.textContent.includes('BTC') && el.textContent.includes('USDT')) {
       console.log(el.tagName, el.className, el.textContent);
     }
   });
   ```

Эта информация поможет быстро исправить проблему и добавить поддержку новых элементов. 